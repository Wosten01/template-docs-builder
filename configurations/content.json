[
  {
    "group": "Основные",
    "commands": [
      {
        "title": "Подключение к серверу",
        "description": "Подключение к VPS по SSH. После ввода команды потребуется ввести пароль пользователя (пароль не отображается).",
        "code": "ssh {username}@{serverIp}"
      },
      {
        "title": "Обновление системы",
        "description": "Обновляет список пакетов и устанавливает последние доступные обновления.",
        "code": "sudo apt update && sudo apt upgrade -y"
      },
      {
        "title": "Создание нового пользователя и добавление в sudo",
        "description": "Создаёт нового пользователя и даёт ему права администратора (через группу sudo). При создании потребуется придумать пароль и при желании заполнить дополнительные данные (они необязательны и могут быть пропущены нажатием Enter).",
        "code": "adduser {newUser}\nusermod -aG sudo {newUser}"
      },
      {
        "title": "Переключение на нового пользователя",
        "description": "После создания нового пользователя рекомендуется работать под его именем. Для этого используйте команду ниже и введите пароль нового пользователя.",
        "code": "su - {newUser}"
      }
    ]
  },
  {
    "group": "SSH ключи",
    "commands": [
      {
        "title": "Создать SSH-ключ (на локальной машине)",
        "description": "Сгенерируйте пару SSH-ключей для безопасного подключения без пароля.",
        "steps": [
          "Откройте терминал (Linux, MacOS или Windows с OpenSSH).",
          "Введите команду: ssh-keygen -t rsa -b 4096",
          "При появлении запроса 'Enter file in which to save the key' нажмите Enter для выбора пути по умолчанию (~/.ssh/id_rsa).",
          "По желанию введите passphrase (пароль для ключа) или просто нажмите Enter, чтобы оставить пустым.",
          "После успешного создания вы получите два файла: приватный ключ (~/.ssh/id_rsa) и публичный (~/.ssh/id_rsa.pub)."
        ],
        "code": "ssh-keygen -t rsa -b 4096"
      },
      {
        "title": "Копировать SSH-ключ на сервер",
        "description": "Передайте публичный SSH-ключ на сервер, чтобы входить без пароля.",
        "steps": [
          "Перед копированием убедитесь, что сервер доступен по SSH.",
          "Выполните команду: ssh-copy-id {username}@{serverIp}",
          "Введите пароль удалённого пользователя при запросе. После этого ключ будет добавлен на сервер, и дальнейшие входы будут без запроса пароля."
        ],
        "code": "ssh-copy-id {username}@{serverIp}"
      }
    ]
  },
  {
    "group": "Настройка SSH",
    "commands": [
      {
        "title": "Редактирование конфигурации SSH",
        "code": "sudo nano /etc/ssh/sshd_config"
      },
      {
        "title": "Перезапуск SSH",
        "code": "sudo systemctl restart ssh"
      }
    ]
  },
  {
    "group": "Брандмауэр (UFW)",
    "commands": [
      {
        "title": "Установка UFW",
        "code": "sudo apt install ufw -y"
      },
      {
        "title": "Разрешить OpenSSH",
        "code": "sudo ufw allow OpenSSH"
      },
      {
        "title": "Включить UFW",
        "code": "sudo ufw enable"
      },
      {
        "title": "Проверить статус UFW",
        "code": "sudo ufw status"
      }
    ]
  }
]
